{"ast":null,"code":"import _objectWithoutProperties from \"D:/OJ/foreveroj-front/foreveroj-front/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"window\"];\nimport { watch, unref, getCurrentScope, onScopeDispose } from \"vue\";\nvar defaultWindow = typeof window !== \"undefined\" ? window : void 0;\nfunction unrefElement(elRef) {\n  var _a;\n  var plain = unref(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction useMutationObserver(target, callback) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$window = options.window,\n    window2 = _options$window === void 0 ? defaultWindow : _options$window,\n    mutationOptions = _objectWithoutProperties(options, _excluded);\n  var isSupported = window2 && \"MutationObserver\" in window2;\n  var observer;\n  var cleanup = function cleanup() {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  var stopWatch = watch(function () {\n    return unrefElement(target);\n  }, function (el) {\n    cleanup();\n    if (isSupported && window2 && el) {\n      observer = new MutationObserver(callback);\n      observer.observe(el, mutationOptions);\n    }\n  }, {\n    immediate: true\n  });\n  var stop = function stop() {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported: isSupported,\n    stop: stop\n  };\n}\nexport { defaultWindow, tryOnScopeDispose, unrefElement, useMutationObserver };","map":{"version":3,"names":["watch","unref","getCurrentScope","onScopeDispose","defaultWindow","window","unrefElement","elRef","_a","plain","$el","tryOnScopeDispose","fn","useMutationObserver","target","callback","options","arguments","length","undefined","_options$window","window2","mutationOptions","_objectWithoutProperties","_excluded","isSupported","observer","cleanup","disconnect","stopWatch","el","MutationObserver","observe","immediate","stop"],"sources":["D:/OJ/foreveroj-front/foreveroj-front/node_modules/@arco-design/web-vue/es/watermark/hooks/use-mutation-observer.js"],"sourcesContent":["import { watch, unref, getCurrentScope, onScopeDispose } from \"vue\";\nconst defaultWindow = typeof window !== \"undefined\" ? window : void 0;\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = unref(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction useMutationObserver(target, callback, options = {}) {\n  const { window: window2 = defaultWindow, ...mutationOptions } = options;\n  const isSupported = window2 && \"MutationObserver\" in window2;\n  let observer;\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(\n    () => unrefElement(target),\n    (el) => {\n      cleanup();\n      if (isSupported && window2 && el) {\n        observer = new MutationObserver(callback);\n        observer.observe(el, mutationOptions);\n      }\n    },\n    { immediate: true }\n  );\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\nexport { defaultWindow, tryOnScopeDispose, unrefElement, useMutationObserver };\n"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,KAAK,EAAEC,eAAe,EAAEC,cAAc,QAAQ,KAAK;AACnE,IAAMC,aAAa,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAGA,MAAM,GAAG,KAAK,CAAC;AACrE,SAASC,YAAYA,CAACC,KAAK,EAAE;EAC3B,IAAIC,EAAE;EACN,IAAMC,KAAK,GAAGR,KAAK,CAACM,KAAK,CAAC;EAC1B,OAAO,CAACC,EAAE,GAAGC,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACC,GAAG,KAAK,IAAI,GAAGF,EAAE,GAAGC,KAAK;AACvE;AACA,SAASE,iBAAiBA,CAACC,EAAE,EAAE;EAC7B,IAAIV,eAAe,CAAC,CAAC,EAAE;IACrBC,cAAc,CAACS,EAAE,CAAC;IAClB,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd;AACA,SAASC,mBAAmBA,CAACC,MAAM,EAAEC,QAAQ,EAAgB;EAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACzD,IAAAG,eAAA,GAAgEJ,OAAO,CAA/DX,MAAM;IAAEgB,OAAO,GAAAD,eAAA,cAAGhB,aAAa,GAAAgB,eAAA;IAAKE,eAAe,GAAAC,wBAAA,CAAKP,OAAO,EAAAQ,SAAA;EACvE,IAAMC,WAAW,GAAGJ,OAAO,IAAI,kBAAkB,IAAIA,OAAO;EAC5D,IAAIK,QAAQ;EACZ,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;IACpB,IAAID,QAAQ,EAAE;MACZA,QAAQ,CAACE,UAAU,CAAC,CAAC;MACrBF,QAAQ,GAAG,KAAK,CAAC;IACnB;EACF,CAAC;EACD,IAAMG,SAAS,GAAG7B,KAAK,CACrB;IAAA,OAAMM,YAAY,CAACQ,MAAM,CAAC;EAAA,GAC1B,UAACgB,EAAE,EAAK;IACNH,OAAO,CAAC,CAAC;IACT,IAAIF,WAAW,IAAIJ,OAAO,IAAIS,EAAE,EAAE;MAChCJ,QAAQ,GAAG,IAAIK,gBAAgB,CAAChB,QAAQ,CAAC;MACzCW,QAAQ,CAACM,OAAO,CAACF,EAAE,EAAER,eAAe,CAAC;IACvC;EACF,CAAC,EACD;IAAEW,SAAS,EAAE;EAAK,CACpB,CAAC;EACD,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;IACjBP,OAAO,CAAC,CAAC;IACTE,SAAS,CAAC,CAAC;EACb,CAAC;EACDlB,iBAAiB,CAACuB,IAAI,CAAC;EACvB,OAAO;IACLT,WAAW,EAAXA,WAAW;IACXS,IAAI,EAAJA;EACF,CAAC;AACH;AACA,SAAS9B,aAAa,EAAEO,iBAAiB,EAAEL,YAAY,EAAEO,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}