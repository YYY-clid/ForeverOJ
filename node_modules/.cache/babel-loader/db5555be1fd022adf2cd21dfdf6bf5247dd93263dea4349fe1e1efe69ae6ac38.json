{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport * as echarts from 'echarts';\nexport default {\n  __name: 'Chart',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var chartRef = ref(null);\n    var chartInstance = null;\n    var initChart = function initChart() {\n      if (chartRef.value) {\n        chartInstance = echarts.init(chartRef.value);\n\n        // 生成近七天的日期\n        var getLastSevenDays = function getLastSevenDays() {\n          var dates = [];\n          for (var i = 6; i >= 0; i--) {\n            var date = new Date();\n            date.setDate(date.getDate() - i);\n            dates.push(\"\".concat(date.getMonth() + 1, \"/\").concat(date.getDate())); // 格式化为 MM/DD\n          }\n          return dates;\n        };\n        var option = {\n          legend: {\n            data: ['提交数', '通过数'],\n            // 图例名称\n            top: 'bottom'\n          },\n          xAxis: {\n            data: getLastSevenDays() // 使用近七天的日期\n          },\n          yAxis: {},\n          series: [{\n            name: '提交数',\n            // 图例对应的名称\n            data: [10, 22, 28, 23, 19, 30, 25],\n            // 示例数据\n            type: 'line',\n            areaStyle: {},\n            label: {\n              show: true,\n              position: 'top',\n              formatter: '{c}'\n            }\n          }, {\n            name: '通过数',\n            // 图例对应的名称\n            data: [25, 14, 23, 35, 10, 20, 15],\n            // 示例数据\n            type: 'line',\n            areaStyle: {\n              color: '#ff0',\n              opacity: 0.5\n            },\n            label: {\n              show: true,\n              position: 'top',\n              formatter: '{c}'\n            }\n          }]\n        };\n        chartInstance.setOption(option);\n      }\n    };\n    onMounted(function () {\n      initChart();\n      window.addEventListener('resize', resizeChart);\n    });\n    var resizeChart = function resizeChart() {\n      if (chartInstance) {\n        chartInstance.resize();\n      }\n    };\n    onBeforeUnmount(function () {\n      window.removeEventListener('resize', resizeChart);\n      if (chartInstance) {\n        chartInstance.dispose();\n      }\n    });\n    var __returned__ = {\n      chartRef: chartRef,\n      get chartInstance() {\n        return chartInstance;\n      },\n      set chartInstance(v) {\n        chartInstance = v;\n      },\n      initChart: initChart,\n      resizeChart: resizeChart,\n      ref: ref,\n      onMounted: onMounted,\n      onBeforeUnmount: onBeforeUnmount,\n      get echarts() {\n        return echarts;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onBeforeUnmount","echarts","chartRef","chartInstance","initChart","value","init","getLastSevenDays","dates","i","date","Date","setDate","getDate","push","concat","getMonth","option","legend","data","top","xAxis","yAxis","series","name","type","areaStyle","label","show","position","formatter","color","opacity","setOption","window","addEventListener","resizeChart","resize","removeEventListener","dispose"],"sources":["/Users/ricardo/Documents/OnlineJudgePlatform/ForeverOJ/src/components/Chart.vue"],"sourcesContent":["<template>\n  <div id=\"container\">\n    <div class=\"chart-title\">近一周提交和通过次数</div>\n    <div ref=\"chartRef\" class=\"chart-container\"></div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport * as echarts from 'echarts';\n\nconst chartRef = ref(null);\nlet chartInstance = null;\n\nconst initChart = () => {\n  if (chartRef.value) {\n    chartInstance = echarts.init(chartRef.value);\n\n    // 生成近七天的日期\n    const getLastSevenDays = () => {\n      const dates = [];\n      for (let i = 6; i >= 0; i--) {\n        const date = new Date();\n        date.setDate(date.getDate() - i);\n        dates.push(`${date.getMonth() + 1}/${date.getDate()}`); // 格式化为 MM/DD\n      }\n      return dates;\n    };\n\n    const option = {\n      legend: {\n        data: ['提交数', '通过数'], // 图例名称\n        top: 'bottom'\n      },\n      xAxis: {\n        data: getLastSevenDays() // 使用近七天的日期\n      },\n      yAxis: {},\n      series: [\n        {\n          name: '提交数', // 图例对应的名称\n          data: [10, 22, 28, 23, 19, 30, 25], // 示例数据\n          type: 'line',\n          areaStyle: {},\n          label: {\n            show: true,\n            position: 'top',\n            formatter: '{c}'\n          }\n        },\n        {\n          name: '通过数', // 图例对应的名称\n          data: [25, 14, 23, 35, 10, 20, 15], // 示例数据\n          type: 'line',\n          areaStyle: {\n            color: '#ff0',\n            opacity: 0.5\n          },\n          label: {\n            show: true,\n            position: 'top',\n            formatter: '{c}'\n          }\n        }\n      ]\n    };\n    chartInstance.setOption(option);\n  }\n};\n\nonMounted(() => {\n  initChart();\n  window.addEventListener('resize', resizeChart);\n});\n\nconst resizeChart = () => {\n  if (chartInstance) {\n    chartInstance.resize();\n  }\n};\n\nonBeforeUnmount(() => {\n  window.removeEventListener('resize', resizeChart);\n  if (chartInstance) {\n    chartInstance.dispose();\n  }\n});\n</script>\n\n<style scoped>\n#container {\n  border-radius: 16px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  width: 800px;\n}\n\n.chart-title {\n  background-color: #f0f0f0; /* 设置标题背景色 */\n  padding: 10px;\n  text-align: left;\n  font-weight: bold;\n  height: 30px;\n  border-radius: 16px 16px 0 0; /* 圆角 */\n}\n\n.chart-container {\n  width: 1000px;\n  height: 500px;\n}\n</style>"],"mappings":";;;;AAQA,SAASA,GAAG,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAK;AACrD,OAAO,KAAKC,OAAO,MAAM,SAAS;;;;;;IAElC,IAAMC,QAAQ,GAAGJ,GAAG,CAAC,IAAI,CAAC;IAC1B,IAAIK,aAAa,GAAG,IAAI;IAExB,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAIF,QAAQ,CAACG,KAAK,EAAE;QAClBF,aAAa,GAAGF,OAAO,CAACK,IAAI,CAACJ,QAAQ,CAACG,KAAK,CAAC;;QAE5C;QACA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;UAC7B,IAAMC,KAAK,GAAG,EAAE;UAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;YAC3B,IAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;YACvBD,IAAI,CAACE,OAAO,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAGJ,CAAC,CAAC;YAChCD,KAAK,CAACM,IAAI,IAAAC,MAAA,CAAIL,IAAI,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,OAAAD,MAAA,CAAIL,IAAI,CAACG,OAAO,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;UAC1D;UACA,OAAOL,KAAK;QACd,CAAC;QAED,IAAMS,MAAM,GAAG;UACbC,MAAM,EAAE;YACNC,IAAI,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;YAAE;YACtBC,GAAG,EAAE;UACP,CAAC;UACDC,KAAK,EAAE;YACLF,IAAI,EAAEZ,gBAAgB,CAAC,CAAC,CAAC;UAC3B,CAAC;UACDe,KAAK,EAAE,CAAC,CAAC;UACTC,MAAM,EAAE,CACN;YACEC,IAAI,EAAE,KAAK;YAAE;YACbL,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAAE;YACpCM,IAAI,EAAE,MAAM;YACZC,SAAS,EAAE,CAAC,CAAC;YACbC,KAAK,EAAE;cACLC,IAAI,EAAE,IAAI;cACVC,QAAQ,EAAE,KAAK;cACfC,SAAS,EAAE;YACb;UACF,CAAC,EACD;YACEN,IAAI,EAAE,KAAK;YAAE;YACbL,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAAE;YACpCM,IAAI,EAAE,MAAM;YACZC,SAAS,EAAE;cACTK,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE;YACX,CAAC;YACDL,KAAK,EAAE;cACLC,IAAI,EAAE,IAAI;cACVC,QAAQ,EAAE,KAAK;cACfC,SAAS,EAAE;YACb;UACF;QAEJ,CAAC;QACD3B,aAAa,CAAC8B,SAAS,CAAChB,MAAM,CAAC;MACjC;IACF,CAAC;IAEDlB,SAAS,CAAC,YAAM;MACdK,SAAS,CAAC,CAAC;MACX8B,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEC,WAAW,CAAC;IAChD,CAAC,CAAC;IAEF,IAAMA,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;MACxB,IAAIjC,aAAa,EAAE;QACjBA,aAAa,CAACkC,MAAM,CAAC,CAAC;MACxB;IACF,CAAC;IAEDrC,eAAe,CAAC,YAAM;MACpBkC,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAEF,WAAW,CAAC;MACjD,IAAIjC,aAAa,EAAE;QACjBA,aAAa,CAACoC,OAAO,CAAC,CAAC;MACzB;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}