{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport * as echarts from 'echarts';\nexport default {\n  __name: 'Chart',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var chartRef = ref(null);\n    var chartInstance = null;\n    var initChart = function initChart() {\n      if (chartRef.value) {\n        chartInstance = echarts.init(chartRef.value);\n\n        // 生成近七天的日期\n        var getLastSevenDays = function getLastSevenDays() {\n          var dates = [];\n          for (var i = 6; i >= 0; i--) {\n            var date = new Date();\n            date.setDate(date.getDate() - i);\n            dates.push(\"\".concat(date.getMonth() + 1, \"/\").concat(date.getDate())); // 格式化为 MM/DD\n          }\n          return dates;\n        };\n        var option = {\n          xAxis: {\n            data: getLastSevenDays() // 使用近七天的日期\n          },\n          yAxis: {},\n          series: [{\n            data: [10, 22, 28, 23, 19, 30, 25],\n            // 示例数据\n            type: 'line',\n            areaStyle: {},\n            label: {\n              show: true,\n              position: 'top',\n              formatter: '{c}'\n            }\n          }, {\n            data: [25, 14, 23, 35, 10, 20, 15],\n            // 示例数据\n            type: 'line',\n            areaStyle: {\n              color: '#ff0',\n              opacity: 0.5\n            },\n            label: {\n              show: true,\n              position: 'top',\n              formatter: '{c}'\n            }\n          }]\n        };\n        chartInstance.setOption(option);\n      }\n    };\n    onMounted(function () {\n      initChart();\n      window.addEventListener('resize', resizeChart);\n    });\n    var resizeChart = function resizeChart() {\n      if (chartInstance) {\n        chartInstance.resize();\n      }\n    };\n    onBeforeUnmount(function () {\n      window.removeEventListener('resize', resizeChart);\n      if (chartInstance) {\n        chartInstance.dispose();\n      }\n    });\n    var __returned__ = {\n      chartRef: chartRef,\n      get chartInstance() {\n        return chartInstance;\n      },\n      set chartInstance(v) {\n        chartInstance = v;\n      },\n      initChart: initChart,\n      resizeChart: resizeChart,\n      ref: ref,\n      onMounted: onMounted,\n      onBeforeUnmount: onBeforeUnmount,\n      get echarts() {\n        return echarts;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onBeforeUnmount","echarts","chartRef","chartInstance","initChart","value","init","getLastSevenDays","dates","i","date","Date","setDate","getDate","push","concat","getMonth","option","xAxis","data","yAxis","series","type","areaStyle","label","show","position","formatter","color","opacity","setOption","window","addEventListener","resizeChart","resize","removeEventListener","dispose"],"sources":["/Users/ricardo/Documents/OnlineJudgePlatform/ForeverOJ/src/components/Chart.vue"],"sourcesContent":["<template>\n\n  <h1>近一周提交次数</h1>\n  <div ref=\"chartRef\" class=\"chart-container\"></div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport * as echarts from 'echarts';\n\nconst chartRef = ref(null);\nlet chartInstance = null;\n\nconst initChart = () => {\n  if (chartRef.value) {\n    chartInstance = echarts.init(chartRef.value);\n\n    // 生成近七天的日期\n    const getLastSevenDays = () => {\n      const dates = [];\n      for (let i = 6; i >= 0; i--) {\n        const date = new Date();\n        date.setDate(date.getDate() - i);\n        dates.push(`${date.getMonth() + 1}/${date.getDate()}`); // 格式化为 MM/DD\n      }\n      return dates;\n    };\n\n    const option = {\n      xAxis: {\n        data: getLastSevenDays() // 使用近七天的日期\n      },\n      yAxis: {},\n      series: [\n        {\n          data: [10, 22, 28, 23, 19, 30, 25], // 示例数据\n          type: 'line',\n          areaStyle: {},\n          label: {\n            show: true,\n            position: 'top',\n            formatter: '{c}'\n          }\n        },\n        {\n          data: [25, 14, 23, 35, 10, 20, 15], // 示例数据\n          type: 'line',\n          areaStyle: {\n            color: '#ff0',\n            opacity: 0.5\n          },\n          label: {\n            show: true,\n            position: 'top',\n            formatter: '{c}'\n          }\n        }\n      ]\n    };\n    chartInstance.setOption(option);\n  }\n};\n\nonMounted(() => {\n  initChart();\n  window.addEventListener('resize', resizeChart);\n});\n\nconst resizeChart = () => {\n  if (chartInstance) {\n    chartInstance.resize();\n  }\n};\n\nonBeforeUnmount(() => {\n  window.removeEventListener('resize', resizeChart);\n  if (chartInstance) {\n    chartInstance.dispose();\n  }\n});\n</script>\n\n<style scoped>\n.chart-container {\n  width: 800px;\n  height: 400px;\n}\n</style>"],"mappings":";;;;AAOA,SAASA,GAAG,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAK;AACrD,OAAO,KAAKC,OAAO,MAAM,SAAS;;;;;;IAElC,IAAMC,QAAQ,GAAGJ,GAAG,CAAC,IAAI,CAAC;IAC1B,IAAIK,aAAa,GAAG,IAAI;IAExB,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAIF,QAAQ,CAACG,KAAK,EAAE;QAClBF,aAAa,GAAGF,OAAO,CAACK,IAAI,CAACJ,QAAQ,CAACG,KAAK,CAAC;;QAE5C;QACA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;UAC7B,IAAMC,KAAK,GAAG,EAAE;UAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;YAC3B,IAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;YACvBD,IAAI,CAACE,OAAO,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAGJ,CAAC,CAAC;YAChCD,KAAK,CAACM,IAAI,IAAAC,MAAA,CAAIL,IAAI,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,OAAAD,MAAA,CAAIL,IAAI,CAACG,OAAO,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;UAC1D;UACA,OAAOL,KAAK;QACd,CAAC;QAED,IAAMS,MAAM,GAAG;UACbC,KAAK,EAAE;YACLC,IAAI,EAAEZ,gBAAgB,CAAC,CAAC,CAAC;UAC3B,CAAC;UACDa,KAAK,EAAE,CAAC,CAAC;UACTC,MAAM,EAAE,CACN;YACEF,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAAE;YACpCG,IAAI,EAAE,MAAM;YACZC,SAAS,EAAE,CAAC,CAAC;YACbC,KAAK,EAAE;cACLC,IAAI,EAAE,IAAI;cACVC,QAAQ,EAAE,KAAK;cACfC,SAAS,EAAE;YACb;UACF,CAAC,EACD;YACER,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAAE;YACpCG,IAAI,EAAE,MAAM;YACZC,SAAS,EAAE;cACTK,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE;YACX,CAAC;YACDL,KAAK,EAAE;cACLC,IAAI,EAAE,IAAI;cACVC,QAAQ,EAAE,KAAK;cACfC,SAAS,EAAE;YACb;UACF;QAEJ,CAAC;QACDxB,aAAa,CAAC2B,SAAS,CAACb,MAAM,CAAC;MACjC;IACF,CAAC;IAEDlB,SAAS,CAAC,YAAM;MACdK,SAAS,CAAC,CAAC;MACX2B,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEC,WAAW,CAAC;IAChD,CAAC,CAAC;IAEF,IAAMA,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;MACxB,IAAI9B,aAAa,EAAE;QACjBA,aAAa,CAAC+B,MAAM,CAAC,CAAC;MACxB;IACF,CAAC;IAEDlC,eAAe,CAAC,YAAM;MACpB+B,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAEF,WAAW,CAAC;MACjD,IAAI9B,aAAa,EAAE;QACjBA,aAAa,CAACiC,OAAO,CAAC,CAAC;MACzB;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}